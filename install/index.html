<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/xdoc/install/index.xml.vm at 2023-10-27
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Hyun Lee" />
    <meta name="author" content="Jordan Padams" />
    <meta name="author" content="Sean Hardman" />
    <title>Registry &#x2013; Installation</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://github.com/NASA-PDS-Incubator/registry" id="bannerLeft"><img src="../images/pds4_logo.png"  alt=""/></a></div>
          <div class="pull-right"><div id="bannerRight"><h2>PDS Registry</h2>
</div>
</div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-10-27<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.3.5</li>
      <li class="pull-right"><a href="https://github.com/NASA-PDS-Incubator/registry" class="externalLink" title="Registry Github Repo">Registry Github Repo</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Software Documentation</li>
    <li><a href="../index.html" title="About PDS Registry"><span class="none"></span>About PDS Registry</a></li>
    <li class="active"><a href="#"><span class="none"></span>Installation</a></li>
    <li><a href="../operate/index.html" title="Operation"><span class="none"></span>Operation</a></li>
   <li class="nav-header">Downloads</li>
    <li><a href="https://github.com/NASA-PDS-Incubator/registry-mgr-legacy/releases/download/v2.3.5/registry-mgr-legacy-2.3.5-bin.tar.gz" class="externalLink" title="Current Release (tar.gz)"><span class="none"></span>Current Release (tar.gz)</a></li>
    <li><a href="https://github.com/NASA-PDS-Incubator/registry-mgr-legacy/releases/download/v2.3.5/registry-mgr-legacy-2.3.5-bin.zip" class="externalLink" title="Current Release (zip)"><span class="none"></span>Current Release (zip)</a></li>
    <li><a href="https://pds-engineering.jpl.nasa.gov/content/pds4-software" class="externalLink" title="Past Releases"><span class="none"></span>Past Releases</a></li>
   <li class="nav-header">Change Log</li>
    <li><a href="https://github.com/NASA-PDS-Incubator/registry-mgr-legacy/blob/v2.3.5/CHANGELOG.md#v2.3.5" class="externalLink" title="Since v2.1.0"><span class="none"></span>Since v2.1.0</a></li>
    <li><a href="../changes-report.html" title="Prior to v2.1.0"><span class="none"></span>Prior to v2.1.0</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="Installation"></a>Installation</h2>
      
<p>This document describes how to install the Registry software contained in the <i>registry-mgr-legacy</i> package. The following topics can be found in this section:
      </p>

      
<ul>
        
<li><a href="#System_Requirements">System Requirements</a></li>
        
<li><a href="#Unpacking_the_Package">Unpacking the Package</a></li>
        
<li><a href="#Configuring_the_Environment">Configuringt he Environment</a></li>
        
<li><a href="#Install_Solr_and_Registry_-_Docker">Install Solr and Registry - Docker</a></li>
        
<li><a href="#Install_Solr_and_Registry_-_Standalone">Install Solr and Registry - Standalone</a></li>
        
<li><a href="#Operational_Deployment">Operational Deployment</a></li>
        
<li><a href="#Verifying_Successful_Installation">Verifying Successful Installation</a></li>
        
<li><a href="#Next_Steps">Next Steps</a></li>
        
<li><a href="#Common_Errors">Common Errors</a></li>
      </ul>
    </section>

    <hr />
    <section>
<h2><a name="System_Requirements"></a>System Requirements</h2>
      
<p>This section details the system requirements for installing and operating the Registry.
      </p>

      <section>
<h3><a name="Java_Runtime_Environment"></a>Java Runtime Environment</h3>
        
<p>The Registry was developed using Java and will run on any platform with a supported Java Runtime Environment (JRE). The software was specifically compiled for and tested in Java version 1.8 (64-bit). The following commands test the local Java installation in a UNIX-based environment:
        </p>

	
<p>NOTE: This software only works with 64-bit Java installation.</p>

        
<div class="source"><pre class="prettyprint">
% which java
/usr/bin/java

% java -version
java version &quot;1.8.0_101&quot;
Java(TM) SE Runtime Environment (build 1.8.0_101-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.101-b13, mixed mode)
        </pre></div>

        
<p>The first command above checks whether the <i>java</i> executable is in the environment's path and the second command reports the version. If Java is not installed or the version is not at least 1.8, Java will need to be downloaded and installed in the current environment. Consult the local system administrator for installation of this software. For the do-it-yourself crowd, the Java software can be downloaded from the <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/" target="_blank">Oracle Java Download</a> page. The suggested software package is the Java Standard Edition (SE) 8, either the JDK or the JRE package. The JDK package is not necessary to run the software but could be useful if development and compilation of Java software will also occur in the current environment.
        </p>
      </section>
      
      <section>
<h3><a name="Memory_Requirements"></a>Memory Requirements</h3>
      	
<ol style="list-style-type: decimal">
      	  
<ul>The Registry requires &gt;2GB memory available in order to perform normal operations</ul>
      	</ol>
      </section>
    </section>

    <hr />
    <section>
<h2><a name="Unpacking_the_Package"></a>Unpacking the Package</h2>
      
<p>Download the <i>registry-mgr-legacy</i> package from Github (<a class="externalLink" href="https://github.com/NASA-PDS-Incubator/registry-mgr-legacy/releases/download/v2.3.5/registry-mgr-legacy-2.3.5-bin.tar.gz" target="_blank">TAR.GZ</a> <a class="externalLink" href="https://github.com/NASA-PDS-Incubator/registry-mgr-legacy/releases/download/v2.3.5/registry-mgr-legacy-2.3.5-bin.tar.gz" target="_blank">ZIP</a>). The binary distribution is available in identical zip or tar/gzip packages. The installation directory may vary from environment to environment but in UNIX-based environments it is typical to install software packages in the <i>/home/pds</i> directory and in Windows-based environments it is typical to install software packages in the <i>C:\Program Files</i> directory. Unpack the selected binary distribution file with one of the following commands:
      </p>

      
<p>The top-level directory where the package is installed will be referenced in these instructions as <i><b>$REGISTRY_HOME</b></i>.</p>
      
<div class="source"><pre class="prettyprint">
% unzip registry-mgr-legacy-2.3.5-bin.zip
or
% tar -xzvf registry-mgr-legacy-2.3.5-bin.tar.gz
      </pre></div>

      
<p>Note: Depending on the platform, the native version of <i>tar</i> may produce an error when attempting to unpack the distribution file because many of the file paths are greater than 100 characters. If available, the GNU version of tar will resolve this problem. If that is not available or cannot be installed, the zipped package will work just fine in a UNIX environment.
      </p>

      
<p>The commands above result in the creation of the <i>registry-mgr-legacy-2.3.5</i> directory with the following directory structure:
      </p>

      
<ul>
        
<li><b>LICENSE</b><br />
          
<p>The Apache License, Version 2.0
          </p>
        </li>
        
<li><b>README.txt</b><br />
          
<p>A README file with some high level information on the project and how to view more detailed documentation.
          </p>
        </li>
        
<li><b>VERSION.txt</b><br />
          
<p>A VERSION file contains the version of the project.
          </p>
        </li>
        
<li><b>bin/</b><br />
          
<p>This directory contains the scripts for installing or uninstalling.</p>
        </li>
        
<li><b>build/</b><br />
          
<p>This directory contains the scripts for installing or uninstalling the project in Docker. </p>
        </li>
        
<li><b>dist/</b><br />
          
<p>This directory contains the jar for the Registry API (PDS Search Protocol).</p>
        </li>
        
<li><b>collections/</b><br />
          
<p>This directory contains the Apache Solr configuration for collections installed by default by the Registry.
          </p>
        </li>
        
<li><b>lib/</b><br />
          
<p>This directory contains JARs used by some of the registry utility tools.</p>
        </li>
      </ul>
    </section>
    
    <hr />
    <section>
<h2><a name="Configuring_the_Environment"></a>Configuring the Environment</h2>
      
<p>In order to execute the Harvest Tool, the local environment must first be configured appropriately. This section describes how to setup the user environment on UNIX-based and Windows machines.
      </p>
      
      <section>
<h3><a name="UNIX-Based_Environment"></a>UNIX-Based Environment</h3>
        
<p>This section details the environment setup for UNIX-based machines. The binary distribution includes a couple shell scripts that must be executed from the command-line. 
          Setting the <i>REGISTRY_HOME</i> environment variable to where the Registry is installed can help when using Harvest in the future, but 
          is not required.
        </p>
        
        
<p>The following command demonstrates how to set the <i>REGISTRY_HOME</i> environment variable (in Bourne shell), by appending to its current setting. You may want to append this to 
          the end of your <i>$HOME/.bash_profile</i> (or equivalent) to avoid having to reset this in the future:
        </p>
        
        
<div class="source"><pre class="prettyprint">
          % export REGISTRY_HOME=/path/to/registry-mgr-legacy-2.3.5
        </pre></div>
        
        
<p>In addition, the shell scripts require that the Java be installed on the machine, you can both check it is installed or set the <i>JAVA_HOME</i> environment variable:
        </p>
        
        
<div class="source"><pre class="prettyprint">
          # Check if it is installed globally
          % which java
          
          # If not, you can set JAVA_HOME
          % export JAVA_HOME=/path/to/java/home
        </pre></div>
        
        
<p>The system administrator for the local machine may need to be consulted for this location. The path specified should have a <i>bin</i> sub-directory that contains the <i>java</i> executable. This variable may also be defined within the scripts. Edit the scripts (files without the .bat extension) and change the line in the example above to represent the local Java installation.
        </p>
      </section>
      
      <section>
<h3><a name="Windows_Environment"></a>Windows Environment</h3>
        
<p>This section details the environment setup for Windows machines. The binary distribution includes a couple batch scripts that must be executed from the command-line. Setting the <i>PATH</i> environment variable to the location of the files, enables the batch scripts to be executed from any location on the local machine.
        </p>
        
        
<p>The following command demonstrates how to set the <i>PATH</i> environment variable, by appending to its current setting:
        </p>
        
        
<div class="source"><pre class="prettyprint">
          C:\&gt; set PATH = %PATH%;C:\Program Files\registry-mgr-legacy-2.3.5\bin
        </pre></div>
        
        
<p>In addition, the batch scripts require that the <i>JAVA_HOME</i> environment variable be set to the appropriate location of the Java installation on the local machine. This may have already been set when Java was installed. However, if it hasn't, then run the following command to set the <i>JAVA_HOME</i> environment variable:
        </p>
        
        
<div class="source"><pre class="prettyprint">
          C:\&gt; set JAVA_HOME = C:\path\to\java\home
        </pre></div>
        
        
<p>The system administrator for the local machine may need to be consulted for this location. The path specified should have a <i>bin</i> sub-directory that contains the <i>java</i> executable. This variable may also be defined within the scripts. Edit the scripts (files with the .bat extension) and change the line in the example above to represent the local Java installation. Additional methods for setting Windows environment variables can be found in the <a href="index-win.html">Windows System Properties</a> document.
        </p>
      </section>
    </section>

    <section>
<h2><a name="Install_Solr_and_Registry_-_Docker"></a>Install Solr and Registry - Docker</h2>
      
<p><b>NOTE: Docker installation is currently only available for Linux / Mac OS X users. Windows Users please use the <a href="#Install_Solr_and_Registry_-_Standalone">Standalone Installation</a></b>
      </p>

      
<p>This section details how to install and deploy a dockerized instance of the PDS Registry.
      </p>

	    
<p>The following Registry installation procedure is for Linux and Mac operating systems. Please contact Engineering Node if you run into any issues.
	    </p>

      
<ol style="list-style-type: decimal">
        
<li>
          
<p>Install and Run Docker from <a class="externalLink" href="https://docs.docker.com/v17.12/install/" target="_blank">Docker Installation Guide</a> website if your system doesn't have Docker.</p>
        </li>
        
        
<li>Move to the directory that registry installer script resides.
          
<div class="source"><pre class="prettyprint">
% cd $REGISTRY_HOME/bin
          </pre></div>
        </li>
        
<li>Execute the Registry Docker Installer script and you should see the following output if successful:
          
<div class="source"><pre class="prettyprint">
% ./registry_installer_docker.sh install

Installing...
Building Registry Docker Image.                               SUCCESS
Starting Registry Docker Container                            SUCCESS
Waiting for Solr server to start.
Creating a Registry Service Blob collection (registry)        SUCCESS
Creating a XPath collection (xpath)                           SUCCESS
Creating a Search collection (data)                           SUCCESS
          </pre></div>
        </li>
        
<li>Next, you can <a href="#Verifying_Successful_Installation">Verify Successful Installation</a> and potentially configure for <a href="#Operational_Deployment">Operational Deployment</a> for setting this up on an operational, public server.</li>
      </ol>
    </section>
    
    <section>
<h2><a name="Install_Solr_and_Registry_-_Standalone"></a>Install Solr and Registry - Standalone</h2>
      
<p>This section of the Registry Installation guide is for installing Solr and the Registry as a standalone application instead of using Docker. The Docker installation method is the preferred method for ease of deployment across multiple discipline nodes, but not required.
      </p>

      
<p><i>Note: The following procedure can be followed by either Linux or Windows users, however the paths and some of the commands will need to be modified if not performed in a Cygwin or equivalent POSIX-compatible environment.</i></p>

      
<ol style="list-style-type: decimal">
        
<li>
          
<p><a class="externalLink" href="https://www.apache.org/dyn/closer.lua/lucene/solr/8.2.0/solr-8.2.0.tgz">Download Solr</a></p>
          
<p>Unpack Solr package and note the path to the Solr instance.<br />Note: It is preferred that the Solr package have same parent directory as Registry / Harvest.</p>
          
<div class="source"><pre class="prettyprint">
% tar -xvf solr-8.2.0.tgz
% pwd
/usr/local/

% ls
harvest-x.x.x/
registry-mgr-legacy-2.3.5/
solr-8.2.0/

# If different location, note location of SOLR
% cd solr-8.2.0/
% pwd
/usr/local/solr-8.2.0/
          </pre></div>
        </li>
        
<li>Move to the directory that registry installer script resides (Note: See <a href="#Unpacking_the_Package">Unpacking the Package</a> for configuring the REGISTRY_HOME variable or find out what that path represents.)
          
<div class="source"><pre class="prettyprint">
% cd /usr/local/registry-mgr-legacy-2.3.5/bin
          </pre></div>
        </li>
        
<li>Execute the registry installer software:
          
<div class="source"><pre class="prettyprint">
% ./registry_installer_standalone.sh
          </pre></div>
        </li>
        
<li>Enter the Solr installation location that is done in previous step.
          
<div class="source"><pre class="prettyprint">
Enter location of Solr installation: /usr/local/solr-8.2.0
          </pre></div>
          
          
<p>You should see output similar to the following: </p>
          
          
<div class="source"><pre class="prettyprint">
STARTING Registry Installer in standalone mode.

  Registry   .....
       ( v 2.3.5 )
       ( installing on platform: Mac OS X )
       ( IP Address:- 192.168.1.120 )
       ( Host Name:- MY HOST )

Enter location of SOLR installation: /usr/local/solr-8.2.0
Copied a directory from /usr/local/registry/registry-2.3.5/bin/../dist to /usr/local/solr-8.2.0/contrib/pds/lib
Copied a directory from /usr/local/registry/registry-2.3.5/bin/../collections/data to /usr/local/solr-8.2.0/server/solr/configsets/data/conf
Copied a directory from /usr/local/registry/registry-2.3.5/bin/../collections/registry to /usr/local/solr-8.2.0/server/solr/configsets/registry/conf
Copied a directory from /usr/local/registry/registry-2.3.5/bin/../collections/xpath to /usr/local/solr-8.2.0/server/solr/configsets/xpath/conf

Starting a SOLR server... Waiting up to 180 seconds to see Solr running on port 8983...
*** [WARN] *** Your open file limit is currently 10240.
 It should be set to 65000 to avoid operational disruption.
 If you no longer wish to see this warning, set SOLR_ULIMIT_CHECKS to false in your profile or solr.in.sh
*** [WARN] ***  Your Max Processes Limit is currently 1418.
 It should be set to 65000 to avoid operational disruption.
 If you no longer wish to see this warning, set SOLR_ULIMIT_CHECKS to false in your profile or solr.in.sh
Waiting up to 180 seconds to see Solr running on port 8983 [/]
Started Solr server on port 8983 (pid=6007). Happy searching!


Return status from the SOLR server startup = 0
The SOLR server is started successfully.
Creating registry collection...
Created collection 'registry' with 3 shard(s), 1 replica(s) with config-set 'registry'
Return status from creating registry collection = 0
Registry collection is created successfully.
Creating xpath collection...
Created collection 'xpath' with 3 shard(s), 1 replica(s) with config-set 'xpath'
Return status from creating xpath collection = 0
Xpath collection is created successfully.
Creating search collection (data)...
Created collection 'data' with 3 shard(s), 1 replica(s) with config-set 'data'
Return status from creating search collection (data) = 0
Search collection (data) is created successfully.
          </pre></div>        
        </li>
        
<li>Next, you can <a href="#Verifying_Successful_Installation">Verify Successful Installation</a> and potentially configure for <a href="#Operational_Deployment">Operational Deployment</a> for setting this up on an operational, public server.</li>
      </ol>
    </section>

    <section>
<h2><a name="Verifying_Successful_Installation"></a>Verifying Successful Installation</h2>
      
<ul>
        
<li>To verify installation, first, check the docker image is running:
          
<div class="source"><pre class="prettyprint">
% docker ps

CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS                    NAMES
0ee274f1fa5f        registry:2.2.0   &quot;/bin/bash -c 'solr &#x2026;&quot;   5 minutes ago       Up 5 minutes        0.0.0.0:8983-&gt;8983/tcp   registry
          </pre></div>
        </li> 
        
<li>Next, you can check the solr endpoint is up, however, how to test that will depend upon your server configuration:
          
<ul>
            
<li>If running on your local machine, open up your favorite browser and go to <i>http://localhost:8983/solr</i> to view the Solr admin interface.</li>
            
<li>If running on a server and the port is open, replace local host with your domain, e.g. <i>http://pds.nasa.gov:8983/solr</i></li>
            
<li>If running on a server and the port is not open, you can run a <a class="externalLink" href="https://curl.haxx.se/">curl</a> command to verify Solr is active:
              
<div class="source"><pre class="prettyprint">
% curl http://localhost:8983/solr/admin/cores?action=STATUS

{
&quot;responseHeader&quot;:{
&quot;status&quot;:0,
&quot;QTime&quot;:4},
&quot;initFailures&quot;:{},
&quot;status&quot;:{
&quot;data_shard1_replica_n1&quot;:{
  &quot;name&quot;:&quot;data_shard1_replica_n1&quot;,
  &quot;instanceDir&quot;:&quot;/var/solr/data/data_shard1_replica_n1&quot;,
  &quot;dataDir&quot;:&quot;/var/solr/data/data_shard1_replica_n1/data/&quot;,
  &quot;config&quot;:&quot;solrconfig.xml&quot;,
  &quot;schema&quot;:&quot;managed-schema&quot;,
  &quot;startTime&quot;:&quot;2019-10-25T04:06:13.058Z&quot;,
  &quot;uptime&quot;:551826,
  &quot;lastPublished&quot;:&quot;active&quot;,
  &quot;configVersion&quot;:0,
  &quot;cloud&quot;:{
    &quot;collection&quot;:&quot;data&quot;,
    &quot;shard&quot;:&quot;shard1&quot;,
    &quot;replica&quot;:&quot;core_node3&quot;},
  &quot;index&quot;:{
    &quot;numDocs&quot;:0,
    &quot;maxDoc&quot;:0,
    &quot;deletedDocs&quot;:0,
    &quot;indexHeapUsageBytes&quot;:0,
    &quot;version&quot;:2,
    &quot;segmentCount&quot;:0,
    &quot;current&quot;:true,
    &quot;hasDeletions&quot;:false,
    &quot;directory&quot;:&quot;org.apache.lucene.store.NRTCachingDirectory:NRTCachingDirectory(MMapDirectory@/var/solr/data/data_shard1_replica_n1/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@5566110; maxCacheMB=48.0 maxMergeSizeMB=4.0)&quot;,
    &quot;segmentsFile&quot;:&quot;segments_1&quot;,
    &quot;segmentsFileSizeInBytes&quot;:69,
    &quot;userData&quot;:{},
    &quot;sizeInBytes&quot;:69,
    &quot;size&quot;:&quot;69 bytes&quot;}},
    .
    .
    .
              </pre></div>
            </li>
          </ul>
        </li>
        
<li>You can learn more about the <a href="../operate/index.html#Registry_Solr_Collections">Registry Solr Collections</a> installed, or continue onto <a href="#Next_Steps">Next Steps</a>.</li>
      </ul>

    </section>
    <hr />
    <section>
<h2><a name="Operational_Deployment"></a>Operational Deployment</h2>
      
<p>Once you are ready to deploy the Registry operationally, you will want to secure Solr by setting up a reverse proxy in your Apache HTTP Server <i>httpd.conf</i> file:</p>
      
<div class="source"><pre class="prettyprint">
ProxyPass /services/registry/ http://localhost:8983/solr/
ProxyPassReverse /services/registry/ http://localhost:8983/solr/
ProxyPass /services/registry http://localhost:8983/solr
ProxyPassReverse /services/registry http://localhost:8983/solr

&lt;!-- Secures the Solr admin interface to your local subnet. Change your IP/subnet information accordingly. --&gt;
&lt;Location &quot;/services/registry/#/&quot;&gt;
Order Deny,Allow
Deny from all
Allow from 123.45.0.0/255.255.0.0 123.56.0.0/255.255.0.0 .jpl.nasa.gov
&lt;/Location&gt;
      </pre></div>
      
      
<p>You should now be able to go to http://my.website.com/services/registry and see the Solr Admin interface.</p>
    </section>

    <hr />
    <section>
<h2><a name="Next_Steps"></a>Next Steps</h2>
      <section>
<h3><a name="Install_Harvest_Tool"></a>Install Harvest Tool</h3>
        
<p><a href="../../../ingest/harvest/index.html">The Harvest Tool</a> can be used to populate the Registry with data. The Harvest Tool runs locally at the Discipline Node to crawl the local data repository in order to discover products and index associated metadata with the Registry.</p>
      </section>
    </section>

    <hr />
    <section>
<h2><a name="Uninstall"></a>Uninstall</h2>
      
<p>In the event you want to uninstall the Registry either to install a newer version or for another reason:</p>
      
<ul>
        
<li>
          For Docker Installation:
          
<div class="source"><pre class="prettyprint">
% ./registry_installer_docker.sh uninstall
Uninstalling...

Are you sure you want to uninstall the Registry and Search and all associated indices? (y/n) y
Removing the Registry Blob collection from the SOLR.
Removing the Registry XPath collection.
Removing the Search collection.
Stopping the SOLR instance.
Removing Registry Docker Images.
Removing 'solr_data' volume
          </pre></div>
        </li>
        
<li>
          For Standalone Installation:
          
<div class="source"><pre class="prettyprint">
$ ./registry_installer_standalone.sh uninstall
STARTING Registry Installer in standalone mode.

  Registry   .....
       ( v 2.3.5 )
       ( installing on platform: Mac OS X )
       ( IP Address:- 192.168.1.120 )
       ( Host Name:- MY_HOST )

Enter location of SOLR installation: /usr/local/solr-8.2.0
Deleting registry collection...
{
  &quot;responseHeader&quot;:{
    &quot;status&quot;:0,
    &quot;QTime&quot;:198},
  &quot;success&quot;:{&quot;192.168.1.120:8983_solr&quot;:{&quot;responseHeader&quot;:{
        &quot;status&quot;:0,
        &quot;QTime&quot;:47}}}}


Deleted collection 'registry' using command:
http://192.168.1.120:8983/solr/admin/collections?action=DELETE&amp;name=registry
Return status from deleting registry collection = 0
Registry collection is deleted successfully.
Deleting xpath collection...
{
  &quot;responseHeader&quot;:{
    &quot;status&quot;:0,
    &quot;QTime&quot;:187},
  &quot;success&quot;:{&quot;192.168.1.120:8983_solr&quot;:{&quot;responseHeader&quot;:{
        &quot;status&quot;:0,
        &quot;QTime&quot;:54}}}}


Deleted collection 'xpath' using command:
http://192.168.1.120:8983/solr/admin/collections?action=DELETE&amp;name=xpath
Return status from deleting xpath collection = 0
Xpath collection is deleted successfully.
Deleting search collection (data)...
{
  &quot;responseHeader&quot;:{
    &quot;status&quot;:0,
    &quot;QTime&quot;:171},
  &quot;success&quot;:{&quot;192.168.1.120:8983_solr&quot;:{&quot;responseHeader&quot;:{
        &quot;status&quot;:0,
        &quot;QTime&quot;:37}}}}


Deleted collection 'data' using command:
http://192.168.1.120:8983/solr/admin/collections?action=DELETE&amp;name=data
Return status from deleting search collection (data) = 0
Search collection (data) is deleted successfully.

Found 1 Solr nodes:

Solr process 6007 running on port 8983
{
  &quot;solr_home&quot;:&quot;/usr/local/solr-8.2.0/server/solr&quot;,
  &quot;version&quot;:&quot;8.2.0 31d7ec7bbfdcd2c4cc61d9d35e962165410b65fe - ivera - 2019-07-19 15:11:04&quot;,
  &quot;startTime&quot;:&quot;2019-10-25T04:41:04.215Z&quot;,
  &quot;uptime&quot;:&quot;0 days, 0 hours, 20 minutes, 2 seconds&quot;,
  &quot;memory&quot;:&quot;84.4 MB (%16.5) of 512 MB&quot;,
  &quot;cloud&quot;:{
    &quot;ZooKeeper&quot;:&quot;localhost:9983&quot;,
    &quot;liveNodes&quot;:&quot;1&quot;,
    &quot;collections&quot;:&quot;0&quot;}}


Stopping the SOLR server...
Sending stop command to Solr running on port 8983 ... waiting up to 180 seconds to allow Jetty process 6007 to stop gracefully.

The SOLR server is stopped successfully.
          </pre></div>
        </li>
      </ul>
    </section>

    <hr />
    <section>
<h2><a name="Common_Errors"></a>Common Errors</h2>
      <section>
<h3><a name="Failed_to_create_a_registry_service_collection_.28.system.29..."></a>Failed to create a registry service collection (.system)...</h3>
	
<p>This issue could happen for several reasons, but we will need to look through the logs to determine the issue:
	</p>
	
<ul>
	  
<li>Look at Solr Console log to determine where the issue may lie:
	    
<div class="source"><pre class="prettyprint">
# STANDALONE INSTALLATION
open $SOLR_HOME/server/logs/solr.log
open $SOLR_HOME/server/logs/solr-8983-console.log
	    </pre></div>
	  </li>
	  
<li>If the log output states:
	    
<div class="source"><pre class="prettyprint">
Error occurred during initialization of VM
Could not reserve enough space for 2097152KB object heap
	    </pre></div>
	    TBD solution
	  </li>
	</ul>
      </section>
      <section>
<h3><a name="HTTP_404_-_Requested_Resource_Not_Available"></a>HTTP 404 - Requested Resource Not Available</h3>
        
<p>This error means the application failed to install correctly. The following are potential mitigation strategies:
        </p>
        
<ul>
          
<li>Verify domain and port are correct for the local Solr installation.</li>
          
<li>View $SOLR_HOME/server/logs/solr.log for information on potential causes of the failed deployment.</li>
        </ul>
      </section>

      <section>
<h3><a name="Other_Errors"></a>Other Errors</h3>
        
<p>For other errors that arise while testing the installation, see the <a href="../operate/index.html#Common_Errors">Operate - Common Errors</a></p>
      </section>
    </section>

  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2023<a href="https://pds.nasa.gov/">Planetary Data System</a>.
.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
